function updateClock(){var now=moment(),second=6*now.seconds(),minute=6*now.minutes()+second/60,hour=now.hours()%12/12*360+90+minute/12;$("#hour").css("transform","rotate("+hour+"deg)"),$("#minute").css("transform","rotate("+minute+"deg)"),$("#second").css("transform","rotate("+second+"deg)")}function timedUpdate(){updateClock(),setTimeout(timedUpdate,1e3)}$.get("schedule.json",function(data){var dayend=data.day.end,classname="";$.each(data.tasks,function(i,task){if(!/\d{4}/.test(task.start))return console.error("Task "+i+' can only be 4 digits. "'+task.start+'" is not allowed'),!1;if(parseInt(task.start)<0||parseInt(task.start)>2400)return console.error("Task "+i+' is not a valid 24 hour time. "'+task.start+'" is not allowed'),!1;$("#instructions").remove();var taskstart=task.start,splitstart=taskstart.split(/(\d{2})/),mtaskstart=moment().hour(splitstart[1]).minute(splitstart[3]),taskend=dayend;data.tasks[i+1]&&(taskend=data.tasks[i+1].start);var splitend=taskend.split(/(\d{2})/),mtaskend=moment().hour(splitend[1]).minute(splitend[3]);classname=moment().isBetween(mtaskstart,mtaskend)?"now":"now"==classname?"soon":"",$("#tasks li:first").clone().find(".name").text(task.title).end().find(".stime").text(taskstart).end().find(".etime").text(taskend).end().addClass(classname).appendTo("#tasks ol"),"soon"==classname&&$("#tasks li:last").append('<span class="info">Starts '+mtaskstart.fromNow()+"</span>")}),$("#tasks li:first").remove()},"json"),timedUpdate();